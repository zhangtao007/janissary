<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lanjiu.im.grpc.dao.mapper.impl.GroupAnnouncementsMapper">
    <resultMap id="groupAnnouncementsMap" type="com.lanjiu.im.grpc.pojo.GroupAnnouncements">
        <result property="groupAnnouncementId" column="group_announcement_id" javaType="java.lang.Integer"></result>
        <result property="announcementTitle" column="announcement_title" javaType="java.lang.String"></result>
        <result property="announcementContent" column="announcement_content" javaType="java.lang.String"></result>
    </resultMap>

    <select id="selectAllGroupAnnouncements" resultMap="groupAnnouncementsMap">
		select * from group_announcements
	</select>

    <select id="selectGroupAnnouncementsByGroupAnnouncementId" resultMap="groupAnnouncementsMap">
		select * from group_announcements where group_announcement_id = #{groupAnnouncementId}
	</select>

    <insert id="insertGroupAnnouncements" parameterType="com.lanjiu.im.grpc.pojo.GroupAnnouncements">
        insert into group_announcements (group_announcement_id, announcement_title, announcement_content)
        values (#{groupAnnouncementId,jdbcType=INTEGER}, #{announcementTitle,jdbcType=VARCHAR}, #{announcementContent,jdbcType=VARCHAR})
    </insert>

    <delete id="deleteGroupAnnouncements" >
		delete from group_announcements where group_announcement_id = #{groupAnnouncementId}
	</delete>

    <!-- 修改公告 -->
    <update id="updateGroupAnnouncements" parameterType="com.lanjiu.im.grpc.pojo.GroupAnnouncements">
    update group_announcements set announcement_title = #{announcementTitle}, announcement_content = #{announcementContent} where group_announcement_id = #{groupAnnouncementId}
    </update>

</mapper>